<div>
<!-- <svg xmlns="http://www.w3.org/2000/svg" width="920" height="480" viewBox="0 0 920 480">
<text x="220.0" y="30.0" text-anchor="middle" font-family="sans-serif" font-size="16" fill="#000" font-weight="bold">Imperative Flow</text>
<text x="700.0" y="30.0" text-anchor="middle" font-family="sans-serif" font-size="16" fill="#000" font-weight="bold">LCEL Declarative Pipeline</text>
<defs>
<marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
  <path d="M0,0 L10,5 L0,10 z" fill="#333" />
</marker>
</defs>
<rect x="20" y="60" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="80.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Question</text>
<line x1="220.0" y1="100" x2="220.0" y2="120" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="20" y="120" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="140.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">retriever.invoke()</text>
<line x1="220.0" y1="160" x2="220.0" y2="180" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="20" y="180" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="200.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Docs</text>
<line x1="220.0" y1="220" x2="220.0" y2="240" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="20" y="240" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="260.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">prompt.format(context, question)</text>
<line x1="220.0" y1="280" x2="220.0" y2="300" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="20" y="300" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="320.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">LLM</text>
<line x1="220.0" y1="340" x2="220.0" y2="360" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="20" y="360" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="380.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Parse output</text>
<line x1="220.0" y1="400" x2="220.0" y2="420" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="20" y="420" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="220.0" y="440.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Final answer</text>
<rect x="500" y="60" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="700.0" y="80.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Question</text>
<line x1="700.0" y1="100" x2="700.0" y2="120" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="500" y="120" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="700.0" y="140.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">{"context": retriever, "question": RunnablePassthrough()}</text>
<line x1="700.0" y1="160" x2="700.0" y2="180" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="500" y="180" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="700.0" y="200.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Prompt</text>
<line x1="700.0" y1="220" x2="700.0" y2="240" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="500" y="240" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="700.0" y="260.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">LLM</text>
<line x1="700.0" y1="280" x2="700.0" y2="300" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="500" y="300" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="700.0" y="320.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">StrOutputParser()</text>
<line x1="700.0" y1="340" x2="700.0" y2="360" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)" />
<rect x="500" y="360" width="400" height="40" rx="6" ry="6" fill="#fff" stroke="#333" stroke-width="1"/>
<text x="700.0" y="380.0" text-anchor="middle" dominant-baseline="middle" font-family="sans-serif" font-size="14" fill="#000">Final answer</text>
</svg> -->
</div>

